{% extends "base.html" %}

{% block lab %}Лабораторная работа 4{% endblock %}

{% block content %}
<style>
    .error {
        color: red;
        font-weight: bold;
    }
    form {
        display: flex;
        flex-direction: column;
        max-width: 300px;
        margin-left: auto;
        margin-right: auto;
    }

    form div {
        margin-bottom: 15px;
    }

    label {
        display: block;
        margin-bottom: 5px;
        color: white;
    }

    input {
        width: 100%;
        box-sizing: border-box;
    }

    button {
        margin-right: 5px;
    }

    h1, h2 {
        color: white;
    }
</style>

{% if authorized %}
    <h1>Добро пожаловать, {{ name }}!</h1>
    <div>
        <form action="/lab4/logout" method="POST">
            <button class="knopk">Выход</button>
        </form>
    </div>
    <div>
        <p><a href="/lab4/users">Просмотреть всех пользователей</a></p>
    </div>
{% else %}
    <h1>Вход</h1>
    <h2>Пожалуйста, авторизуйтесь</h2>
    <form method="post">
        <div>
            <label for="login">Пользователь:</label>
            <input type="text" id="login" name="login" value="{{ login }}">
        </div>
        <div>
            <label for="password">Пароль:</label>
            <input type="password" id="password" name="password">
        </div>
        {% if error %}
            <div class="error">{{ error }}</div>
        {% endif %}
        <div>
            <button type="submit" class="knopk">Войти</button>
            <button type="reset" class="knopk">Отмена</button>
        </div>
    </form>
    <div>
        <p>Нет учетной записи? <a href="/lab4/register">Зарегистрироваться</a></p>
    </div>
{% endif %}
{% endblock %}